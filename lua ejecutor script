local Players = game:GetService("Players")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

local function createGUI()
    -- Eliminar instancias previas de la GUI si existen
    if PlayerGui:FindFirstChild("EjecutorScript") then
        PlayerGui:FindFirstChild("EjecutorScript"):Destroy()
    end

    local gui = Instance.new("ScreenGui")
    gui.Name = "EjecutorScript"
    gui.Parent = PlayerGui

    local frame = Instance.new("Frame")
    local titleBar = Instance.new("Frame")
    local textBox = Instance.new("TextBox")
    local executeButton = Instance.new("TextButton")
    local closeButton = Instance.new("TextButton")

    frame.Parent = gui
    frame.Size = UDim2.new(0, 400, 0, 250)
    frame.Position = UDim2.new(0.5, -200, 0.5, -125)
    frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    frame.Draggable = true
    frame.Active = true

    titleBar.Parent = frame
    titleBar.Size = UDim2.new(1, 0, 0, 25)
    titleBar.BackgroundColor3 = Color3.fromRGB(25, 25, 25)

    textBox.Parent = frame
    textBox.Size = UDim2.new(1, -20, 0.7, -30)
    textBox.Position = UDim2.new(0, 10, 0, 35)
    textBox.Text = "-- Escribe tu script aqu√≠"
    textBox.TextWrapped = true
    textBox.TextScaled = true
    textBox.MultiLine = true
    textBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    textBox.TextColor3 = Color3.fromRGB(255, 255, 255)

    executeButton.Parent = frame
    executeButton.Size = UDim2.new(1, -20, 0.2, -10)
    executeButton.Position = UDim2.new(0, 10, 0.8, 0)
    executeButton.Text = "Ejecutar"
    executeButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
    executeButton.TextColor3 = Color3.fromRGB(255, 255, 255)

    closeButton.Parent = titleBar
    closeButton.Size = UDim2.new(0, 40, 0, 20)
    closeButton.Position = UDim2.new(1, -45, 0, 2)
    closeButton.Text = "X"
    closeButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
    closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    closeButton.MouseButton1Click:Connect(function()
        gui:Destroy()
    end)
end

-- Ejecutar la GUI al inicio
createGUI()

-- Volver a mostrar la GUI cuando el jugador reaparece
player.CharacterAdded:Connect(function()
    wait(1) -- Espera 1 segundo para evitar errores de carga
    createGUI()
end)
